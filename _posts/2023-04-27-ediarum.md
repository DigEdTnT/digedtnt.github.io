---

layout: post

title: ediarum

categories: [tool, ediarum, annotation, indexierung, register, opensource]

excerpt: ediarum ist eine digitale Arbeitsumgebung f√ºr die TEI-konforme Annotation und Indexierung von XML-Dateien.

factsheet: 

tooldoc: 

last_modified_at:   2023-06-19

---


# Allgemeine Beschreibung

[In Bearbeitung]

ediarum ist eine seit 2012 entwickelte digitale Arbeits- und Publikationsumgebung, die aus mehreren Softwarekomponenten besteht und im Grunde ein Werkzeugkasten aus verschiedenen auf TEI-Standard basierenden Modulen ist. Damit bietet ediarum eine Schnittstelle zwischen Editionsumgebung, XML-Datenbank und Rechercheportal, wobei die Kernf√§higkeit jedenfalls in der Aufbereitung von XML-Dateien besteht. Die digitale Arbeitsumgebung basiert auf einer eXist-db und erm√∂glicht nicht nur die Transkription von Manuskripten und Drucken, sondern vor allem auch die TEI-konforme Annotation und Erstellung von Text- und Sachapparaten sowie Registern. 

ediarum ist als ein Add-On f√ºr Oxygen konzipiert und seit 2015 gibt es eine generalisierte Eingabeoberfl√§che. Zu beachten ist, dass ediarum keine Plug-and-Play-Software ist, da immer ein:e DH-Entwickler:in f√ºr die Implementierung und den Betrieb von ediarum n√∂tig ist. In laufenden Projekten werden nicht immer alle Module, sondern mitunter auch nur Frameworks eingesetzt.

Der gr√∂√üte Vorteil von ediarum liegt darin, dass Transkripte sehr benutzerfreundlich mit TEI-konformen XML in einer gut individualisierbaren Editionsumgebung ausgezeichnet werden k√∂nnen.


## Anwendungsbereiche

* Transkription von Manuskripten und Drucken
* Text-Mark-up
* TEI-konforme Annotation
* Indexierung
* Erstellung von Text- und Sachapparaten sowie Registern
* Publikation in Web und Druck


## Funktions√ºbersicht



* Als Schema (ODD/RNG) nutzt ediarum das DTA-Basisformat (relativ strikt?)
* Kollaboration mit M√∂glichkeiten der Qualit√§tssicherung
* Module innerhalb unterschiedlicher Umgebungen (hier nur auszugsweise):
    * _eXist-db:_
        * **ediarum.DB** zur Konfiguration einer eXist-Datenbank; die Daten, die von beliebigen Webtechnologien genutzt werden k√∂nnen, werden dabei √ºber eine JSON-API geliefert
        * **ediarum.WEB** als Library, die entsprechende Funktionalit√§ten f√ºr die Erstellung einer WebApp f√ºr ein Rechercheportal bereitstellt
    * _Oxygen XML-Editor:_
        * **ediarum.BASE.edit** beinhaltet n√ºtzliche Funktionen f√ºr die Bearbeitung von XML-Dateien wie zum Beispiel Stylesheets f√ºr den Autor-Modus, die eine benutzerfreundlichere Transkription ( von Formatierungen wie Unterstreichungen, Hervorhebungen, Streichungen, Leserlichkeit, etc. oder Markierung fremdsprachlicher Eintr√§ge) mit Schaltfl√§chen im Oxygen-Editor erm√∂glichen
        * **ediarum.REGISTER.edit** beinhaltet n√ºtzliche Funktionen f√ºr die erleichterte Auszeichnung von Personen, Orten etc.
        * **ediarum.PDF** f√ºr das Herunterladen und Ausdrucken von TEI-XML-kodierten Texteditionen (in Entwicklung)
        * **ediarum.MEDIAEVUM** f√ºr die Edition mittelalterlicher (Prosa-)Texte
* Diverse Ansichtsm√∂glichkeiten: Web-Ansicht und PDF-Vorschau


## Voraussetzungen

Jedes Tool kann einerseits bestimmte Vorkenntnisse der Benutzer:innen voraussetzen und andererseits auch hinsichtlich der Software-Umgebung gewisse Anforderungen stellen.


### Erforderliche Kenntnisse

* XPath/XQuery
* XSLT
* HTML/CSS von Vorteil
* Grundverst√§ndnis von GitHub


### Ben√∂tigte Software

* Oxygen XML Author (kommerziell)
* eXist-db (optional - nur bei kollaborativem Arbeiten und f√ºr Registerverkn√ºpfungen; Workarounds sind grunds√§tzlich m√∂glich)
* Docker Desktop (f√ºr eine weniger fehleranf√§llige Installation von eXist-db)


## Tool-Kompatibilit√§t

<div class="table-responsive">
<table>
  <tr>
   <td>
   </td>
   <td>IIIF
   </td>
   <td>Transkribus
   </td>
   <td>FromThePage
   </td>
   <td>OpenRefine
   </td>
   <td>ba[sic?]
   </td>
   <td>teiPublisher
   </td>
   <td>ediarum.WEB
   </td>
  </tr>
  <tr>
   <td>ediarum
   </td>
   <td>‚ùå
   </td>
   <td>‚ùå
   </td>
   <td>ü¶Ñ
   </td>
   <td>ü¶Ñ
   </td>
   <td>‚ùå
   </td>
   <td>ü¶Ñ
   </td>
   <td>‚úÖ
   </td>
  </tr>
</table>
</div>



## Kosten√ºbersicht

* **ediarum & eXist-db:** 
    * kostenlos
* **Oxygen XML Author:** 
    * Halbjahres-Abo: $190 - 244
    * Jahres-Abo: $335 - 432

[Detaillierte Preis√ºbersicht (Oxygen)](https://www.oxygenxml.com/xml_author/buy_oxygen_xml_author.html#_new_ath)


# M√∂glichkeiten & Grenzen

Da jedes Projekt unterschiedliche Anforderungen mit sich bringt, sollen nachfolgend m√∂gliche Vor- und Nachteile des getesteten Tools dargestellt werden. 


## St√§rken

* Kollaboration: man kann sehen, wer an was gearbeitet hat; man kann Bearbeiter einf√ºgen und der Teil wird in Entwurfstatus gestellt - so sieht man, was man selbst noch machen muss und ob das Dokument fertig ist
* Nutzung von Oxygen als komfortable und m√§chtige Arbeitsumgebung mit ergiebiger Dokumentation
* Projektmitarbeitende k√∂nnen die Edition in einer benutzerfreundlichen ‚ÄúAutoransicht‚Äù bearbeiten und √ºber eine eigene Werkzeugleiste per Mausklick Auszeichnungen vornehmen
* Bearbeitungsansicht kann f√ºr den jeweiligen Arbeitsschritt angepasst werden
* Dokumente werden w√§hrend der Bearbeitung direkt gegen das eingebundene Schema validiert und bei Problemen werden entsprechende Fehlermeldungen ausgegeben
* St√§ndige Weiterentwicklung durch [BBAW](https://www.bbaw.de/)
* Einfache Nachnutzbarkeit von Funktionalit√§ten und Designs
* M√∂glichkeit Daten-Backups einzustellen (dabei sind jedoch Speicherkapazit√§ten zu beachten)
* [Zotero](https://www.zotero.org/)-Integration m√∂glich


## Herausforderungen & Probleme

* Implementierung und Konfiguration erfordert DH-Entwickler:in
* Abh√§ngigkeit von eXist-db und Oxygen
* Datenbank-Technologie ist bei gr√∂√üeren Datenmengen noch suboptimal, da eXist-db viel Arbeitsspeicher ben√∂tigt - f√ºr eine stabile Funktion der Datenbank sollten zumindest 2 GB Arbeitsspeicher zur Verf√ºgung stehen


# Einrichtung & Erste Schritte

Anhand eines Beispielprojekts, das zum Ziel hat, Kochrezepte aus dem Mittelalter computergest√ºtzt zu analysieren und sp√§ter √ºber eine Forschungsplattform zur Verf√ºgung zu stellen, soll nachfolgend ein m√∂glicher Arbeitsablauf beschrieben werden. Die daf√ºr verwendeten Daten wurden bereits mit dem Tool [FromThePage](https://digedtnt.github.io/fromthepage/) transkribiert und daraufhin f√ºr die weitere Bearbeitung vorbereitet (siehe [Transition](https://digedtnt.github.io/transition-fromthepage-ediarum/)). In dieser Kurzanleitung soll nun mit ediarum die weitere Annotation und Indexierung der Kochrezepte des Beispielprojektes erfolgen und beschrieben werden.



## 1. Installation einzelner Komponenten



* **Installation von eXist-db:** Um auch in diesem Abschnitt des Beispielprojektes die kollaborative Komponente genauer zu betrachten, besteht der erste Schritt darin, eine XML-Datenbank einzurichten, in der die bereits erstellten Transkriptionen f√ºr die weitere Annotation gespeichert werden sollen. 
    * F√ºr ein lokales Setup von eXsit-db haben wir f√ºr unseren Rechner mit Windows 10 als Betriebssystem zuerst [Docker Desktop](https://www.docker.com/products/docker-desktop/) (Version 4.18.0) heruntergeladen und installiert. Eventuell m√ºssen wir uns nach der Installation einmal abmelden oder unseren PC neu starten. Danach √∂ffnen wir Docker Desktop und warten bis sich der Docker Engine gestartet hat.
      {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/start-docker-engine.PNG" description="Docker Engine starten" %}
    * Im n√§chsten Schritt √∂ffnen wir unser Terminal und installieren uns unsere lokale eXist-db mit dem Befehl:  
      ```terminal 
      docker pull existdb/existdb:5.2.0` 
      ``` 
      Nach dem Pull-Vorgang m√ºssen wir nun die eXist-db noch unter Angabe des Ports (8080:8080 f√ºr unseren Localhost) ausf√ºhren, indem wir folgende Eingabe in unserem Terminal machen:  
      ```terminal 
      docker run -it -d -p 8080:8080 -p 8443:8443 --name exist existdb/existdb:5.2.0 
      ``` 
      ‚Üí Die aktuellste eXist-Version ist 5.4.1, zum Zeitpunkt dieses Projekts ist ediarum jedoch nur bis zur Version 5.3.1 kompatibel.
    * Wenn wir nun Docker Desktop erneut √∂ffnen, finden wir dort einen exist-Container. 
      {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/docker-existdb.PNG" description="eXist-db in Docker Desktop" %} 
      Mit einem Klick auf den Localhost-Port (8080:8080) √∂ffnet sich eXist im Browser.
      {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/existdb-dashboard.PNG" description="eXist im Browser" %}
    * Im Dashboard k√∂nnen wir uns nun ohne Passwort-Eingabe als ‚Äúadmin‚Äù anmelden.
      {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/existdb-dashboard.PNG" description="Dashboard von eXist im Browser" %}
* **Installation von ediarum.DB in eXist-db:** Um sp√§ter unser eigenes Projekt generieren zu k√∂nnen, m√ºssen wir nun ediarum in eXist einrichten. 
    * Daf√ºr laden wir uns vom [ediarum-Github-Repository](https://github.com/ediarum/ediarum.DB/releases) die aktuellste Version von ediarum.DB als XAR-Datei herunter. 
      {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/github-ediarum.PNG" description="Download von ediarum auf Github" %}
    * Im eXist-Dashboard k√∂nnen wir nun √ºber den Package Manager die XAR-Datei hochladen.
      {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/ediarum-upload.PNG" description="Upload von ediarum im Package Manager von eXist" %} 
      Nach erfolgreichem Upload finden wir nun eine eigene Kachel mit der ediarum-App, die ab sofort au√üerdem auch im Dashboard √ºber einen Link verf√ºgbar ist.
      {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/ediarum-app.PNG" description="ediarum-Applikation in eXist" %}
* **Installation des Oxygen XML-Editors:** Abschlie√üend ben√∂tigen wir nun noch den [Oxygen XML Author](https://www.oxygenxml.com/documentation.html), und zwar mindestens in Version 20.1 (oder alternativ den Oxygen XML Editor).


## 2. Einrichtung des Projekts

* Zuerst m√ºssen wir in unserer eXist-db f√ºr unsere Edition ein Projekt mit standardisierter Ablagestruktur sowie bestimmten Settings einrichten. Damit diese Standards korrekt angelegt werden, nutzen wir die ediarum.DB-App. 
* Wir klicken also auf ediarum.DB in unserem eXist-Dashboard.
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/ediarum-dashboard.PNG" description="ediarum.DB in eXist" %}
* Die ediarum-App √∂ffnet sich nun in einem weiteren Fenster im Browser, wo wir im Men√º zu **Verwaltung > Projekte** navigieren und dort im Feld ‚ÄúNeues Projekt‚Äù einen Projektnamen f√ºr unsere Edition eingeben und abschlie√üend auf ‚ÄúAnlegen‚Äù klicken. 
  ‚Üí Es d√ºrfen keine Umlaute, Leer- oder Sonderzeichen verwendet werden. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/ediarum-project-setup.PNG" description="Einrichten eines Projektes in der ediarum-App" %}
* Au√üerdem k√∂nnen und wollen wir in der Datenbank noch ein ediarum-Register aktivieren. In der ge√∂ffneten ediarum-App w√§hlen wir daf√ºr unser Projekt aus, um auf die Projekt-√úbersichtsseite zu gelangen.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/ediarum-register.PNG" description="Projektkonfiguration in der ediarum-App" %} 
  Dort legen wir ein neues Register an, indem wir neben **Neues Register** auf ‚ÄúAktivieren‚Äù klicken. F√ºr unser Beispielprojekt w√§hlen wir hier ‚ÄúSachbegriffe‚Äù aus dem Drop-Down-Men√º der Ediarum-Register und w√§hlen bei Registeraufbau die Option ‚ÄúRegister in einer Datei‚Äù. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/ediarum-register-setup.PNG" description="Einrichten eines projektspezifischen Registers" %}
* Wir k√∂nnen nun als Admin mit dem admin-Benutzernamen ohne Passwort-Eingabe eine Verbindung unseres Oxygen-Editors zur eXist-db herstellen. F√ºr unsere Projektmitarbeitenden m√ºssen wir aber weitere Benutzer:innen in der ediarum-App anlegen. Daf√ºr gehen wir wieder auf die √úbersichtsseite unseres Projektes und w√§hlen in dem Men√ºpunkt **Projektkonfiguration > Benutzer** aus. Dort haben wir zuerst *zim-digedtnt* als User angelegt und f√ºgen jetzt noch *zim-student* als weiteres Projektmitglied hinzu. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/ediarum-user.PNG" description="Anlegen von Projektmitgliedern in der ediarum-App" %} \
  ‚Üí Damit auch andere Benutzer:innen bzw. Projektmitarbeitende die Register nutzen k√∂nnen, m√ºssen wir im User Manager der eXist-db entsprechende Zugriffsrechte vergeben. Daf√ºr gehen wir noch einmal auf das eXist-db-Dashboard, w√§hlen dort **User Manager** und klicken den Benutzernamen an, dem wir Zugriffsrechte einr√§umen wollen. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/user-manager.PNG" description="User-Manager in der eXist-db" %} 
  Am Ende der User-Ansicht gibt es ein Gruppenverwaltungssystem, wo wir unserem/unserer Benutzer:in auch Zugriff auf die Gruppe ‚Äúoxygen‚Äù gew√§hren k√∂nnen und auch m√ºssen, wenn wir unseren Projektmitarbeitenden Zugriff auf die erstellten Projekt-Register einr√§umen wollen.
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/user-permissions.PNG"   description="Einstellung der Zugriffsrechte f√ºr Benutzer:innen" %} 
  Damit hat der/die ausgew√§hlte Projektmitarbeitende nun ebenfalls Zugriff auf das zuvor angelegte Register und kann dieses bei der Annotation nutzen.
* Im n√§chsten Schritt stellen wir im Oxygen XML Author eine Verbindung zu unserem soeben eingerichteten Projekt her, um alle in ediarum enthaltenen Funktionalit√§ten verf√ºgbar zu machen. Wir √∂ffnen daf√ºr den Oxygen XML Author und w√§hlen im Men√º **Optionen > Einstellungen** aus, wo wir in der linken Spalte ‚ÄúDatenquellen‚Äù anklicken und unter der Tabelle zu den Verbindungen auf das Plus klicken. Dort geben wir nun unsere Projektdaten an. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/oxygen-author.PNG" description="Erstellen einer Datenverbindung zu unserer ediarum-Datenbank" %} 
  Ob unsere Datenbankverbindung erfolgreich war, k√∂nnen wir herausfinden, indem wir im Men√º **Fenster > Ansicht zeigen > Datenquellen Explorer** ausw√§hlen. Dort sollte unser Projekt mit der darin angelegten Ordnerstruktur aufscheinen.
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/oxygen-dataexplorer.PNG" description="Erfolgreiche Datenbank-Verbindung im Oxygen XML Author" %}
  Den Ordner mit den Briefen und dem Briefbeispiel.xml haben wir schlie√ülich gel√∂scht und stattdessen einen neuen Ordner mit der Bezeichnung ‚ÄúManusrikpte‚Äù angelegt. Nach einem Rechtsmausklick auf unser Projekt im Datenquellen Explorer haben wir daf√ºr ‚ÄúVerzeichnis erstellen‚Äù gew√§hlt.  In diesen Ordner importieren wir nun unsere transformierten und auf das DTABf angepasste XML-Dokumente. \
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/dataexplorer-manuscripts.PNG" description="Projektspezifischen Ordner erstellen und Dateien importieren" %} \
  Wenn wir nun alle Verzeichnisse ausklappen, sieht die Ordnerstruktur und der Ordnerinhalt folgenderma√üen aus: \
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/dataexplorer-new-project.PNG" description="Projektspezifische Datenstruktur" %}
* Au√üerdem richten wir uns nun noch die grundlegenden ediarum-Frameworks in unserer Arbeitsumgebung ein. Daf√ºr legen wir zuerst einen Ordner f√ºr diese Frameworks auf unserem lokalen Dateisystem an und legen dort die GitHub-Repositorien [ediarum.BASE.edit](https://github.com/ediarum/ediarum.BASE.edit/releases) und [ediarum.REGISTER.edit](https://github.com/ediarum/ediarum.REGISTER.edit/releases) ab, indem wir jeweils die ZIP-Dateien mit dem Source Code des letzten Releases herunterladen und diese dann entpacken. Da wir sp√§ter auch ein editionsspezifisches Framework f√ºr unsere eigene Edition ben√∂tigen, legen wir zus√§tzlich noch einen projektspezifischen Ordner zur Erweiterung des Basis-Frameworks an.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/folder-frameworks.PNG" description="Anlegen der ediarum-Frameworks" %} 
  In Oxygen m√ºssen wir nun noch den unter **Optionen > Einstellungen** in der linken Spalte unter **Dokumenttypen-Zuordnung > Orte** ausw√§hlen, dort ‚ÄúBenutzerdefiniert‚Äù aktivieren und dann den Dateipfad zu unserem Framework-Ordner angeben. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/oxygen-framework-connection.PNG" description="Framework-Konfiguration in Oxygen" %} 
  Nach einem Neustart des Oxygen XML Author sollte nun unter **Optionen > Einstellungen > Dokumenttypen-Zuordnung** sollten nun die ediarum-Frameworks aufscheinen. Hier haben wir ‚Äúediarum.BASE.edit‚Äù ausgew√§hlt und ‚ÄúErweitern‚Äù angeklickt, um ein eigenes Erweiterungsframework f√ºr unsere Edition anzulegen. Wir haben hierf√ºr den Namen f√ºr unser editionsspezifisches Framework angegeben, haben beim Speicherort die Option ‚ÄúExtern‚Äù aktiviert und dann den Pfad zu unserem zuvor angelegten Framework-Ordner angelegt.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/oxygen-own-framework.PNG" description="Framework-Zuordnung" %}
* Abschlie√üend richten wir uns im Oxygen XML Author ein Projekt ein. Daf√ºr navigieren wir in Oxygen auf **Projekt > Neues Projekt** und w√§hlen dort den Ordner unseres projektspezifischen Frameworks aus. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/oxygen-project.PNG" description="Erstellen eines Projekts in Oxygen" %} 
  Damit die Editorvariablen im Projekt gespeichert werden, gehen wir au√üerdem auf **Optionen > Einstellungen** und w√§hlen dort ‚ÄúBenutzerspezifische Editorvariablen‚Äù, um die im Weiteren die Projekt-Optionen anzuwenden. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/oxygen-project-variables.PNG" description="Speichern von Editorvariablen" %} 
  Am Ende sehen die Editorvariablen f√ºr unser Projekt so aus: 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/oxygen-editor-variables.PNG" description="Projektspezifische Editorvariablen" %}


## 3. Erweiterung des projektspezifischen Frameworks

### a. Erstellen eines neuen Buttons
* Im vorangegangenen Kapitel haben wir uns zus√§tzlich zu dem √ºber GitHub heruntergeladenen BASE-framework (ediarum.BASE.edit) auch ein eigenes projektspezifisches Framework mit dem Namen *ediarum.MARezepte.edit* angelegt. Dieses wollen wir nun erweitern. Nachdem es in unserem zuvor genutzten Transkriptionstool ([FromThePage](https://digedtnt.github.io/fromthepage/)) nicht m√∂glich war, Textstellen mit roter Schriftfarbe zu annotieren, legen wir uns nun einen Button f√ºr den Oxygen XML Author an, um Projektmitarbeitenden die Annotation zu vereinfachen. 
* Im Oxygen XML Author gehen wir unter **Optionen > Einstellungen** auf **Dokumenttypen-Zuordnung** und w√§hlen dort das projektspezifischen Framework ediarum.MARezepte.edit, um dieses zu bearbeiten. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/framework-settings.PNG" description="Framework-Einstellungen" %}
* In dem neuen Dokumenttypen-Fenster w√§hlen wir nun den Reiter **Autor** und in der linken Men√ºleiste **Aktionen**. Mit einem Klick auf das Plus-Zeichen √∂ffnet sich schlie√ülich ein weiteres Fenster, in dem wir neue Aktion bzw. einen neuen Button anlegen k√∂nnen. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/create-action.PNG" description="Anlegen einer neuen Aktion bzw. eines neuen Buttons" %}
* F√ºr die Konfiguration eines Buttons, der die Annotation von Textstellen mit roter Schrift erleichtert, haben wir die Felder wie folgt ausgef√ºllt.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/configure-action.PNG" description="Konfiguration der neuen Aktion" %} 
  Nach der Wahl einer ID, eines kurzen und verst√§ndlichen Namens sowie eines Men√º-Tastenk√ºrzels (a), haben wir einen kurzen Beschreibungstext gew√§hlt (b), der im Oxygen XML Author als Tooltip angezeigt wird. √úber einen online Icon-Generator haben wir schlie√ülich Icons f√ºr den Button in zwei unterschiedlichen Gr√∂√üen erstellt, innerhalb unseres projekteigenen Frameworks gespeichert und den Pfad referenziert, sowie au√üerdem ein Tastenk√ºrzel gew√§hlt (c), mit dem Projektmitarbeitende auch ohne Button Textstellen annotieren k√∂nnen. Im n√§chsten Feld (d) geben wir an, unter welcher Bedingung die Aktion √ºberhaupt gesetzt werden darf. Da wir in unserem Fall eine Textpassage mit einem [`<hi>`-Element](https://www.tei-c.org/release/doc/tei-p5-doc/de/html/ref-hi.html) umgeben wollen, geben wir bei der **XPath-Aktivierung** an, dass dieser Button bzw. diese Annotation nur dann m√∂glich sein soll, wenn an dieser Stelle auch tats√§chlich ein `<hi>`-Element erlaubt ist. F√ºr diese Art der Annotation haben wir uns im √úbrigen auf Grundlage der Vorgabe f√ºr [Einf√§rbungen](https://www.deutschestextarchiv.de/doku/basisformat/einfaerbung.html) im DTABf entschieden.In dem Auswahlmen√º zum Vorgang (e) w√§hlen wir den gew√ºnschten Prozess, den wir mit unserer Aktion ausf√ºhren wollen aus - in unserem Fall ist dies die ‚ÄúSurroundWithFragmentOperation‚Äù, die bewirkt, dass die markierte Textstelle mit einem ‚ÄúFragment‚Äù umgeben wird. Was dieses Fragment sein soll, legen wir schlie√ülich etwas weiter unten fest, wo wir die Zeile mit dem Namen **fragment** ausw√§hlen und schlie√ülich auf das Konfigurationssymbol klicken.
* In dem Fenster zur Bearbeitung des Fragments k√∂nnen wir angeben, dass wir die markierte Stelle mit einem `<hi>`-Element umgeben wollen, das ein Attribut `@rendition` mit dem Wert ‚Äú#red‚Äù beinhaltet.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/action-value.PNG" description="Auswahl der Annotation" %}
* Damit der Button letztlich auch in unserer Men√ºleiste erscheint und den Projektmitarbeitenden bei der Annotation zur Verf√ºgung steht, f√ºgen wir in dem Dokumenttypen-Fenster im Reiter **Autor** unter **Symbolleiste** unsere neue verf√ºgbare Aktion zu den Textaktionen hinzu. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/menu-button.PNG" description="Hinzuf√ºgen eines neuen Buttons zur Men√ºleiste im Autormodus" %}
* Um im Autormodus nach einem Klick auf den neu konfigurierten Button auch eine sichtbare Ver√§nderung zu bewirken, muss im CSS noch eine entsprechende √Ñnderung vorgenommen werden. Im Dokumenttypen-Fenster kann man einsehen, auf welches CSS zugegriffen wird.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/css-ediarum.PNG" description="CSS f√ºr Autormodus" %} 
  Es w√§re nun entweder m√∂glich, ein eigenes projektspezifisches CSS anzulegen, oder aber das im ediarum.BASE.edit-Framework bereits vorhandene standard.css zu erweitern.  Wir haben uns dazu entschlossen, die entsprechenden Erweiterungen im standard.css, das im Frameworks-Verzeichnis in dem Ordner ediarum.BASE.edit zu finden ist, vorzunehmen. Wir f√ºgen also folgenden CSS-Code hinzu: 
  ```css 
  quote hi[rendition="#red"],
  text hi[rendition="#red"] {
      color: red;
      -oxy-display-tags: none;
  }
  ```
* Wenn wir nun im Autormodus unseren neuen Button verwenden, wird unser markierter Text rot eingef√§rbt (und die Oxygen-Tags, die im Autormodus standardm√§√üig erscheinen, unterdr√ºckt). \
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/button-highlight.PNG" description="Sichtbares Ergebnis nach Auswahl der Aktion" %} 

### b. Anpassung bereits bestehender Buttons



* Grunds√§tzlich besteht im ediarum.BASE.edit-Framework bereits ein Button f√ºr die Annotation mit Registereintr√§gen.
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/register-shortcut.PNG" description="Vordefinierter Button f√ºr Annotation mit Registereintr√§gen" %} 
  Um die Annotation der Zutaten zu erleichtern, wollen wir den Men√ºpunkt ‚ÄúSachbegriffe‚Äù aus dem Drop-Down-Men√º als eigenen Button in der Men√ºleiste anlegen. 
* Daf√ºr navigieren wir √ºber **Optionen > Einstellungen > Dokumenttypen-Zuordnung** zu unserem projektspezifischen Framework (ediarum.MaRezepte.edit), klicken auf ‚ÄúBearbeiten‚Äù und w√§hlen anschlie√üend im Dokumenttypen-Fenster im Reiter **Autor** den Men√ºpunkt **Aktionen**.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/register-action.PNG" description="√Ñnderung vordefinierter Aktionen" %} 
  Hier w√§hlen wir die Aktion mit dem Namen ‚ÄúSachbegriff‚Äù und klicken auf das Werkzeugsymbol, um diese Aktion zu bearbeiten.
* Im Fenster zur Bearbeitung der Aktion √§ndern wir die ID von rs[term] auf term, f√ºgen neue Icons hinzu, die wir lokal im Ordner f√ºr das projektspezifische Framework gespeichert haben hinzu, w√§hlen ein Tastenk√ºrzel (Strg + I) f√ºr Projektmitarbeiter:innen, die lieber mit Tastenk√ºrzeln als mit Buttons arbeiten und √§ndern die XPath-Aktivierung dahingehend, dass wir bei der Annotation nun anstelle des `<rs>`-Elements ein `<term>`-Element um unsere auszuzeichnende Textstelle hinzuf√ºgen.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/register-action-changes.PNG" description="Gestaltung des neuen Buttons f√ºr Registereintr√§ge" %} 
  In der Tabelle zu den Argumenten w√§hlen wir au√üerdem noch das Element, um dort ebenfalls diese √Ñnderung vorzunehmen. 
* Bei der Bearbeitung des Argumentwerts ersetzen wir das `<rs>`-Element mit einem `<term>`-Element und w√§hlen als Wert des Attribut `@type` nun die Bezeichnung ‚Äúingredient‚Äù.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/register-action-changes.PNG" description="√Ñnderung des Elements f√ºr Annotation" %}
* Damit der adaptierte Button auch in der Symbolleiste aufzufinden ist, w√§hlen wir nun im Dokumenttyp-Fenster die Aktion Sachbegriff aus und f√ºgen sie bei den Author-Aktionen im Bereich Text als Kindelement hinzu. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/register-action-menu.PNG" description="Hinzuf√ºgen der adaptierten Aktion zur Symbolleiste im Autormodus" %} 
‚Üí Im Einstellungsfenster unter Dokumenttypen-Zuordnung sollte man nicht vergessen, auf ‚ÄúAnwenden‚Äù zu klicken, damit alle √Ñnderungen auch √ºbernommen werden.
* Zur√ºck in der Autor-Ansicht im Oxygen XML Author verf√ºgen wir jetzt √ºber einen eigenen Button, der ein Fenster mit den Eintr√§gen unseres Sachbegriff-Registers √∂ffnet.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/register-ingredient-button.PNG" description="Mit einem Klick direkt zum Sachbegriff-Register" %} 
  In der Text-Ansicht ist es m√∂glich, zu √ºberpr√ºfen, ob unsere √Ñnderungen auch tats√§chlich zum gew√ºnschten Output f√ºhren.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/register-tag.PNG" description="Ergebnis des Register-Buttons im Code" %}

## 4. Bearbeitung der Dokumente

* Bei jedem Start unserer Arbeitsroutine m√ºssen wir zuerst Docker Desktop starten, und unserem exist-Container starten, indem wir auf die Play-Schaltfl√§che klicken. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/exist-container-run.PNG" description="Starten des exist-Containers in Docker Desktop" %} 
  ‚Üí Mit einem Klick auf den Port (8080:8080) √∂ffnet sich schlie√ülich im Browser das existdb-Dashboard, √ºber das wir uns anmelden k√∂nnen, falls wir Anpassungen in der ediarum-App an den Projektkonfigurationen vornehmen wollen. 
* Wenn uns das Status-Feld unseres exist-Containers ‚ÄúRunning‚Äù anzeigt, wurde die Verbindung zur eXist-Datenbank hergestellt und wir haben auch im Oxygen XML Author √ºber den Datenquellen Explorer Zugriff auf unsere Dateien. Wir √∂ffnen das erste Manuskript und m√ºssen nur mehr sicherstellen, dass wir uns im Autormodus befinden, um direkt mit der Bearbeitung beginnen zu k√∂nnen.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/author-mode-start.PNG" description="Start der Editionsarbeit im Autormodus" %}
* Einige einfache Annotationen, die in unserem Workflow bereits √ºber [FromThePage](https://digedtnt.github.io/fromthepage/) m√∂glich waren, haben wir √ºbernommen bzw. im Zuge unserer [Transition](https://digedtnt.github.io/transition-fromthepage-ediarum/) f√ºr die weitere Bearbeitung in ediarum transformiert. F√ºr unser Beispielprojekt ergeben sich daher noch folgende Bearbeitungsschritte: 
  * Bearbeitung der nach DTABf obligatorischen Metadaten
  * Erg√§nzung von Annotationen, die in FromThePage vorgenommen wurden, aber in ediarum (bzw. gem√§√ü DTABf) noch ein Attribut ben√∂tigen
  * Annotation von Textstellen mit roter Schrift, f√ºr die es in FromThePage keine Annotationsm√∂glichkeit gab
  * Annotation von Zutaten aus dem eigens erstellten Zutatenregister

### a. Bearbeitung der Manuskript-Metadaten
* In unserem Beispielprojekt w√§re es jetzt notwendig, den Projektmitarbeitenden, Metadaten zur Verf√ºgung zu stellen, damit diese alle Felder, die mit einem Hinweis versehen sind und √ºber einen Platzhalter in eckigen Klammern verf√ºgen, entsprechend ausf√ºllen k√∂nnen. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/editing-metadata.PNG" description="Ausf√ºllen von Platzhaltern" %}
### b. Annotationen mit eigenem Button
* Einige der Annotationen haben wir in unserem Beispielprojekt bereits mithilfe von [FromThePage](https://digedtnt.github.io/fromthepage/) vorgenommen. Nicht m√∂glich war es uns jedoch, farbliche Hervorhebung - also in unserem Fall rote Textstellen - als solche auszuzeichnen. Dies k√∂nnen unsere Projektmitarbeitenden nun mittels des eigens daf√ºr erstellten Rotstift-Buttons. F√ºr die Bearbeitung der Transkripte ben√∂tigen wir nun aber auch wieder die Faksimiles. Wir √∂ffnen daf√ºr im Oxygen XML Author einerseits unter **Fenster > Ansicht** **zeigen** die **Bildvorschau** und w√§hlen andererseits f√ºr die Projektansicht den Men√ºpunkt **Projekt **unter demselben Pfad. In der Projektansicht navigieren wir zu unserem ediarum.MaRezepte.edit-Ordner und legen in diesem einen neuen Ordner mit der Bezeichnung ‚Äúfaksimile‚Äù an, in den wir unsere Faksimiles hineinkopieren. Wenn wir hier nun auf eine der Bilddateien klicken, √∂ffnet sich diese in der Bildvorschau und wir verf√ºgen nun √ºber eine Bild-Text-Ansicht, die es uns erleichtert, die entsprechenden in roter Farbe geschriebenen Textstellen im Original zu finden und diese Passage entsprechend im Transkript zu markieren und mittels Rotstift-Button einzuf√§rben. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/red-highlighting.PNG" description="Annotation von Textstellen mit roter Schrift" %}
### c. Erg√§nzung von nicht validen Annotationen
* Au√üerdem befinden sich in den bereits teilweise annotierten Transkriptionen, die noch nicht dem DTA-Basisformat entsprechen. Dies trifft in unserem Beispielprojekt auf Tilgungen und Erg√§nzungen durch die urspr√ºngliche Schreiber:in zu, da wir hier √ºber FromThePage mit den vorgegebenen Buttons nur Auszeichnungen mit `<del>`- und `<add>`-Elementen vornehmen, aber keine Attribute setzen konnten. Im Oxygen XML Author sind diese nicht validen Stellen mit einer roten Wellenlinie unterstrichen und mit einem Klick darauf erscheint links ein kleines Gl√ºhbirnen-Symbol mit Sofort-L√∂sungsvorschl√§gen. 
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/attribute-problem.PNG" description="Anzeige von nicht DTABf-konformen Auszeichnungen" %} 
  Durch die Auswahl von ‚ÄúAttribute ‚Äòrendition‚Äô hinzuf√ºgen‚Äù erscheint ein neues Fenster, mit dem wir dem `@rendition`-Attribut schlie√ülich √ºber das Dropdown einen entsprechenden Wert aussuchen k√∂nnen. Da wir im Faksimile erkennen k√∂nnen, dass die getilgten W√∂rter durchgestrichen wurden, w√§hlen wir das #s, das f√ºr Streichungen steht.  
  {% include image.html url="../data/pipelines/pipeline_1/ediarum/img/rendition-choice.PNG" description="Anpassung nicht valider Annotationen" %} 
  ‚Üí Die Unterwellung verschwindet nun, da dieses Element nun das im DTABf erforderliche `@rendition`-Attribut erhalten hat.  
  ### d. Annotation mit Registereintr√§gen



## 5. Export der Dokumente


# Kontakt

**Unternehmensgr√∂√üe:** 

**Weblink:** [www.weblink.com](www.weblink.com) 

**Mail:**

<div class="table-responsive">
<table class="table">
  <tr>
   <td>Allgemeiner Support
   </td>
   <td><a href="mailto:ediarum@bbaw.de">ediarum@bbaw.de</a>
   </td>
  </tr>
  <tr>
   <td>Mailingliste (f√ºr DH-Entwickler:innen)
   </td>
   <td><a href="https://mailman.bbaw.de/mailman/listinfo/dev.list">dev.list@ediarum.org</a> 
   </td>
  </tr>
  <tr>
   <td><a href="https://www.bbaw.de/die-akademie/mitarbeiterinnen-mitarbeiter/dumont-stefan">Stefan Dumont</a> (ediarum.Base, XML Author)
   </td>
   <td><a href="mailto:dumont@bbaw.de">dumont@bbaw.de</a>
   </td>
  </tr>
  <tr>
   <td><a href="https://www.bbaw.de/die-akademie/mitarbeiterinnen-mitarbeiter/fechner-martin">Martin Fechner</a> (ediarum Web + eXist)
   </td>
   <td><a href="mailto:fechner@bbaw.de">fechner@bbaw.de</a>
   </td>
  </tr>
  <tr>
   <td><a href="https://www.bbaw.de/die-akademie/mitarbeiterinnen-mitarbeiter/czmiel-alexander">Alexander Czmiel</a> (strategische Fragen)
   </td>
   <td><a href="mailto:czmiel@bbaw.de">czmiel@bbaw.de</a>
   </td>
  </tr>
</table>
</div>


# Ressourcen

* [Workshop- und MeetUp-Termine](https://www.ediarum.org/veranstaltungen.html)

## Dokumentation

* [ediarum Setup-Anleitung](https://www.ediarum.org/docs/set-up/)
* [ediarum.Base Benutzerhandbuch](https://www.ediarum.org/docs/ediarum.BASE.manual/)
* [Oxygen XML Author](https://www.oxygenxml.com/doc/versions/20.1/ug-editor/topics/authoring_customization.html)
    * [Erstellung von Buttons](https://www.oxygenxml.com/doc/versions/23.0/ug-editor/topics/dg-create-custom-actions.html)
* [eXist-db](http://exist-db.org/exist/apps/doc/)
* [GitHub Repository (Informationen zu einzelnen Modulen)](https://github.com/ediarum)

## Tutorials



## Projekte, die dieses Tool genutzt haben

* [edition humboldt digital](https://edition-humboldt.de/): Das Editionsvorhaben ‚ÄúAlexander von Humboldt auf Reisen - Wissenschaft aus der Bewegung‚Äù ediert und publiziert Reisetageb√ºcher, Briefe sowie andere Dokumente seit 2015 mit ediarum. In der edition humboldt digital werden die edierten Texte nicht nur pr√§sentiert, sondern auch √ºber Personen-, Orts-, Werk-, Institutions- und Pflanzenregister erschlossen. 
* [Schleiermacher in Berlin 1808-1834:](https://schleiermacher-digital.de/) In diesem Projekt werden Briefwechsel, Tageskalender sowie Vorlesungen von Friedrich Schleiermacher w√§hrend seiner Zeit in Berlin ediert und die Edition durch Personen-, Orts-, Werkregister und ein Verzeichnis zu den erw√§hnten Bibelstellen erschlossen.


## Literatur

